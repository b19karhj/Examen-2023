<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body onload="compareText();">
    <!-- Password box for google guidline passwords-->
    <div>
        <label for="noMSA">Password 1</label>
        <input type="text" id="noMSA" name="noMSA">
        <input type="submit" value="submit1">
    </div>
     <!-- Password box for MSA passwords-->
    <div>
        <label for="MSA">Password 2</label>
        <input type="text" id="MSA" name="MSA">
        <input type="submit" value="submit2" onclick="MSA();">
    </div>
    <script>
         var words; //Global veriabel som håller innehåller alla ord från ordlistan.

         /*compareText gör det enkelt att ändra textfil eller uppdatera den. Nackdelen är att den behöver laddas in på användarens
         webrowser vid besök*/
         function compareText(){  //Skriv kommentarer imorgon.
            fetch("test.txt") //Hämtar textfilen.
                .then(function(textFile){ //En promise some tar emot datan och en response.
                    return (textFile.text()); //Splitar innehållet på "\n".
            })
            .then(function(data){  //Tar emot datan från returnen.
                words = data.split("\r\n"); //Splittar textfilen och sparar i strängen.
                
            })
        }

        //Algorithm for MSA
        function MSA(){ 
            //Varibales
            var password; //Holds passwords from password 2
            var temp; //Stores the password created while last character is deleted.
            var word;
            console.log(words)
            password = document.getElementById("MSA").value;

            for (let i = 0; i < password.length; i++){
                temp = password.substring(0, password.length-i); //deletes last character after eatch iteration

                for(let j = 0; j < words.length; j++){
                   
                    if(temp == words[j]){
                        console.log("word found")
                        console.log(words[j])
                        break;
                        
                    }else{
                        
                        console.log(temp);
                    }
                }
               
            };
    }
       
    </script>
</body>
</html>
