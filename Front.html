<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body onload="compareText();">
    <!-- Password box for google guidline passwords-->
    <div>
        <label for="noMSA">Password 1</label>
        <input type="text" id="noMSA" name="noMSA">
        <input type="submit" value="submit1">
    </div>
     <!-- Password box for MSA passwords-->
    <div>
        <label for="MSA">Password 2</label>
        <input type="text" id="MSA" name="MSA">
        <input type="submit" value="submit2" onclick="MSA();">
    </div>
    <script>
         var words; //Global veriabel som håller innehåller alla ord från ordlistan.

         /*compareText gör det enkelt att ändra textfil eller uppdatera den. Nackdelen är att den behöver laddas in på användarens
         webrowser vid besök*/
         function compareText(){  //Skriv kommentarer imorgon.
            fetch("wordList.txt") //Hämtar textfilen.
                .then(function(textFile){ //En promise some tar emot datan och en response.
                    return (textFile.text()); //Splitar innehållet på "\n".
            })
            .then(function(data){  //Tar emot datan från returnen.
                words = data.split("\r\n"); //Splittar textfilen och sparar i strängen.
            })
        }

        //Algorithm for MSA
        function MSA(){
            //Varibales
            var password; //Holds passwords from password 2
            var temp; //Stores the password created while last character is deleted.
            var wordDetector = 0;
            var savedWords = [];
            const alphabet = /^[a-zA-Z]/ //Regex if first char is lower and uppercase charecter
            const number = /^[0-9]/; //Regex Numbers
            const specialCharacter = /^\W/; //Regex special characters
            var test = [];

            password = document.getElementById("MSA").value;
           

            /*if(password.match(number) || password.match(specialCharacter)){ //Checks if first element is number or special character
                alert("password")
            }*/


                while(password.match(number)){ //Checks if password starts with number, if so then put the number into array
                    test.push(password.match(number))
                    password = password.substring(1);
                    
                }
                while(password.match(specialCharacter)){ //Checks if password starts with special character, if so then put the character into into array
                    test.push(password.match(specialCharacter))
                    password = password.substring(1);
                    console.log(password)
                }
                console.log(test)
                
                
                
            //}
            
            /*TODO: Börja segmentera beronde på lösenordets uppbyggnad. Klara av att dela upp ett lösenord i de tre klasserna utan problem.
            Efter det, skapa en alternativ substräng där special karaktärer vandlas om till bokstäver. Om träff spara undan dom som orginal strängen.
            Efter det fråga mot databasen.
            Efter det formulera tydliga riktlinjer
            Efter det skapa formulär
            Samla in data*/

            
            for (let i = 0; i < password.length; i++){
                temp = password.substring(0, password.length - i); //Deletes last character after each iteration

                if(words.includes(temp)){
                    console.log("word found");
                    wordDetector++;
                    savedWords.push(temp);
                }
        
            };
         
        
                
    }
    
   
    </script>
</body>
</html>
